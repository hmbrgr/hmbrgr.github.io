<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>İsveç'e Hoş Geldiniz</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="shortcut icon" href="img/logo.png" type="image/x-icon" />
    <style>
      label {
        display: inline-block;
        font-size: 72px;
        color: #ffffff;
      }

      .search-section {
        margin: 40px auto;
        max-width: 800px;
        padding: 20px;
        background: rgba(0, 62, 128, 0.7);
        border: 5px solid #000000;
        border-radius: 5px;
        animation: fadeInUp 0.6s forwards;
        text-align: center;
      }

      .search-section label {
        font-size: 36px;
        color: #ffffff;
        display: block;
        margin-bottom: 20px;
        font-family: "Times New Roman", Times, serif;
      }

      .search-section input[type="text"] {
        padding: 10px;
        font-size: 18px;
        width: 70%;
        border-radius: 5px;
        border: 1px solid #140b94;
        margin-bottom: 20px;
        font-family: "Times New Roman", Times, serif;
      }

      .search-section button {
        padding: 10px 20px;
        font-size: 18px;
        border: none;
        background-color: #001a35;
        color: #fff;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-family: "Times New Roman", Times, serif;
      }

      .search-section button:hover {
        background-color: #001f3f;
      }

      #loading {
        display: none;
        margin: 20px auto;
        width: 60px;
        height: 60px;
        border: 8px solid #002e5c;
        border-top: 8px solid #000000;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .search-section h3 {
        color: #fafafa;
        margin-top: 30px;
        font-family: "Times New Roman", Times, serif;
      }

      .search-section #result,
      .search-section #articleContent {
        font-size: 18px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 15px;
        margin: 20px auto;
        width: 80%;
        max-height: 300px;
        overflow-y: auto;
        display: none;
        animation: fadeIn 1s ease-in-out;
        color: #ffffff;
        text-align: left;
        font-family: "Times New Roman", Times, serif;
      }
    </style>
  </head>
  <body>
    <button id="scrollToTop" title="Yukarı Çık">&#8679;</button>
    <div id="transition-overlay"></div>
    <div id="top-animation">
      <p style="padding-top: 20px">
        Kuzey’in zarif incisi İsveç; yenilikçi düşünce, doğayla iç içe yaşam ve
        yüksek refah seviyesiyle adını duyurur. Sessiz ormanları, huzurlu
        kıyıları ve masalsı Kuzey Işıkları’yla ziyaretçilerine büyülü bir
        atmosfer sunar. Tarihi, kültürü ve özgürlükçü toplumsal yapısıyla da hem
        gözleri hem gönülleri fetheden bir coğrafyadır.
      </p>
    </div>
    <nav class="navbar navbar-expand-lg navbar-custom">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <video style="height: 50px" src="img/flag.mp4" autoplay loop></video>
        </a>
        <a class="navbar-brand" href="index.html">İsveç</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavIndex"
          aria-controls="navbarNavIndex"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse"
          id="navbarNavIndex"
          style="margin-top: 15px"
        >
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" href="index.html">Ana Sayfa</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="history.html">Tarih</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="geography.html">Coğrafya</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="culture.html">Kültür</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="tourism.html">Turizm</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="education.html">Eğitim</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="economy.html">Ekonomi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="religion.html">Din</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cuisine.html">Mutfak</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="contact.html">İletişim</a>
            </li>

            <li class="nav-item dropdown">
              <p
                style="font-size: 20px; color: white"
                class="nav-link dropdown-toggle"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                ☰
              </p>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a
                    class="dropdown-item"
                    href="legends.html"
                    style="color: white"
                    >Efsaneler & Mitoloji</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="music.html"
                    style="color: white"
                    >Müzik & Eğlence</a
                  >
                </li>

                <li>
                  <a
                    class="dropdown-item"
                    href="travel.html"
                    style="color: white"
                    >Popüler Gezi Rotaları</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="life.html" style="color: white"
                    >Yaşam & Göçmenlik</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="daily.html"
                    style="color: white"
                    >Günlük Hayat & Kültür Şokları</a
                  >
                </li>

                <li>
                  <a
                    class="dropdown-item"
                    href="digital.html"
                    style="color: white"
                    >Dijital İsveç Rehberi</a
                  >
                </li>

                <li>
                  <a class="dropdown-item" href="yy.html" style="color: white"
                    >Arama Yapın</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="hero-section">
      <video autoplay loop muted playsinline class="hero-video">
        <source src="img/yy.mp4" />
        Tarayıcınız bu videoyu desteklemiyor.
      </video>
      <div class="hero-content text-white text-center">
        <h1 class="display-4 animate">Arama sekmesine hoşgeldiniz.</h1>
        <p class="lead animate">
          Aradığınız herşey burada! Unutmayın sitemizde birşeyi bulamadıysanız
          bile aşağıdan arama yapabilirsiniz!
        </p>
      </div>
    </header>

    <main class="container my-5">
      <article class="animate">
        <section class="search-section">
          <label for="searchInput"
            ><b>Daha fazlası için internette arama yapın!</b></label
          >
          <input
            type="text"
            id="searchInput"
            placeholder="Örneğin: Uzay, Atatürk, Yazılım..."
          />
          <button id="searchButton">Ara</button>

          <div id="loading"></div>

          <h3 id="resultHeading" style="display: none">Sonuç:</h3>
          <div id="result"></div>

          <h3 id="articleHeading" style="display: none">Makale İçeriği:</h3>
          <div id="articleContent"></div>
        </section>
      </article>
    </main>
    <center>
      <footer class="text-white text-center py-3">
        <div class="container">
          <pre>&copy; 2025 hmbrgrtr. Tüm hakları saklıdır.</pre>
        </div>
      </footer>
    </center>
    <div id="custom-scrollbar-track">
      <div id="custom-scrollbar-thumb">
        <img src="img/elevator.png" alt="Asansör" />
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
      async function searchWikipedia(query) {
        const url = `https://tr.wikipedia.org/w/api.php?action=opensearch&origin=*&search=${encodeURIComponent(
          query
        )}`;
        const response = await fetch(url);
        return response.json();
      }

      async function getWikipediaArticle(title) {
        const url = `https://tr.wikipedia.org/w/api.php?action=query&prop=extracts&exintro=true&explaintext=true&format=json&origin=*&titles=${encodeURIComponent(
          title
        )}`;
        const response = await fetch(url);
        const data = await response.json();
        const pages = data.query.pages;
        const pageId = Object.keys(pages)[0];
        return pages[pageId].extract || "Makale bulunamadı.";
      }

      document
        .getElementById("searchButton")
        .addEventListener("click", async () => {
          const query = document.getElementById("searchInput").value.trim();
          if (!query) {
            alert("Lütfen arama için bir kelime veya ifade gir!");
            return;
          }

          document.getElementById("loading").style.display = "block";
          document.getElementById("result").style.display = "none";
          document.getElementById("resultHeading").style.display = "none";
          document.getElementById("articleContent").style.display = "none";
          document.getElementById("articleHeading").style.display = "none";

          try {
            const data = await searchWikipedia(query);
            const titles = data[1];
            const urls = data[3];

            if (titles.length > 0) {
              const title = titles[0];
              const link = urls[0];

              document.getElementById("result").innerHTML = `
            <p><strong>Başlık:</strong> ${title}</p>
            <p><strong>URL:</strong> <a href="${link}" target="_blank">${link}</a></p>
          `;

              const articleText = await getWikipediaArticle(title);
              document.getElementById("articleContent").textContent =
                articleText;

              document.getElementById("loading").style.display = "none";
              document.getElementById("resultHeading").style.display = "block";
              document.getElementById("result").style.display = "block";
              document.getElementById("articleHeading").style.display = "block";
              document.getElementById("articleContent").style.display = "block";
            } else {
              document.getElementById("result").textContent =
                "Hiç sonuç bulunamadı.";
              document.getElementById("loading").style.display = "none";
              document.getElementById("resultHeading").style.display = "block";
              document.getElementById("result").style.display = "block";
            }
          } catch (e) {
            console.error(e);
            document.getElementById("result").textContent = "Bir hata oluştu.";
            document.getElementById("loading").style.display = "none";
            document.getElementById("resultHeading").style.display = "block";
            document.getElementById("result").style.display = "block";
          }
        });
    </script>
  </body>
</html>
